<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>写博客也要讲基本法</title><link href="http://zhao-ji.github.io/" rel="alternate"></link><link href="http://zhao-ji.github.io/feeds/tips.atom.xml" rel="self"></link><id>http://zhao-ji.github.io/</id><updated>2015-02-04T19:00:00+08:00</updated><entry><title>二月点滴收集</title><link href="http://zhao-ji.github.io/2015/er-yue-dian-di-shou-ji.html" rel="alternate"></link><updated>2015-02-04T19:00:00+08:00</updated><author><name>海江田万里</name></author><id>tag:zhao-ji.github.io,2015-02-04:2015/er-yue-dian-di-shou-ji.html</id><summary type="html">&lt;p&gt;=======================&lt;/p&gt;
&lt;h2&gt;Shell Tips&lt;/h2&gt;
&lt;h4&gt;dig 用法&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;dig @server name type&lt;/li&gt;
&lt;li&gt;+TCP 使用TCP查询&lt;/li&gt;
&lt;li&gt;+short 简要答复&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;look  查询相同起始的单词&lt;/h4&gt;
&lt;h2&gt;Python Tips&lt;/h2&gt;
&lt;h4&gt;shell 彩色输出&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;    &lt;span class="n"&gt;from&lt;/span&gt; &lt;span class="n"&gt;termcolor&lt;/span&gt; &lt;span class="n"&gt;import&lt;/span&gt; &lt;span class="n"&gt;colored&lt;/span&gt;

    &lt;span class="n"&gt;print&lt;/span&gt; &lt;span class="n"&gt;colored&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="n"&gt;Hello&lt;/span&gt;&lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="n"&gt;blue&lt;/span&gt;&lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s"&gt;", "&lt;/span&gt; \
        &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;colored&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="n"&gt;V2EX&lt;/span&gt;&lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="n"&gt;cyan&lt;/span&gt;&lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;attrs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="n"&gt;bold&lt;/span&gt;&lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary></entry><entry><title>一月点滴收集</title><link href="http://zhao-ji.github.io/2015/yi-yue-dian-di-shou-ji.html" rel="alternate"></link><updated>2015-01-13T16:30:00+08:00</updated><author><name>海江田万里</name></author><id>tag:zhao-ji.github.io,2015-01-13:2015/yi-yue-dian-di-shou-ji.html</id><summary type="html">&lt;p&gt;=======================&lt;/p&gt;
&lt;h2&gt;Python Tips&lt;/h2&gt;
&lt;h4&gt;Python 暴力字典生成（brute 算法）&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;可重复全排列&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;    &lt;span class="n"&gt;def&lt;/span&gt; &lt;span class="n"&gt;brute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;choices&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;length&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="err"&gt;''&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;candidate&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;candidate&lt;/span&gt; &lt;span class="n"&gt;in&lt;/span&gt;
            &lt;span class="n"&gt;chain&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;from_iterable&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
                &lt;span class="n"&gt;product&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
                    &lt;span class="n"&gt;choices&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                    &lt;span class="n"&gt;repeat&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="n"&gt;in&lt;/span&gt; &lt;span class="n"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;length&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
            &lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h4&gt;isinstance 用法&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;isinstance(...)
   isinstance(object, class-or-type-or-tuple) -&amp;gt; bool&lt;/p&gt;
&lt;p&gt;Return whether an object is an instance of a class or of a subclass thereof.
   With a type as second argument, return whether that is the objects type.
   The form using a tuple, isinstance(x, (A, B, ...)), is a shortcut for
   isinstance(x, A) or isinstance(x, B) or ... (etc.).&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In [9]: isinstance("hello", str)
Out[9]: True&lt;/p&gt;
&lt;p&gt;In [10]: isinstance(1, (str, int))
Out[10]: True&lt;/p&gt;
&lt;p&gt;In [4]: class A:
   ...:     pass
   ...: 
In [5]: a = A()
In [6]: isinstance(a, A)
Out[6]: True&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;isinstance 的第二个参数可以是 类型、类、包含类型或类的元祖。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h4&gt;How to flatten arbitrarily nested lists in Python?&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;    &lt;span class="n"&gt;nested_list&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;],[&lt;/span&gt;&lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="n"&gt;hi&lt;/span&gt;&lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[[[&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="n"&gt;hello&lt;/span&gt;&lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="p"&gt;]]]]]&lt;/span&gt;

    &lt;span class="n"&gt;def&lt;/span&gt; &lt;span class="n"&gt;flatten&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nested&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="n"&gt;in&lt;/span&gt; &lt;span class="n"&gt;nested&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;isinstance&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;list&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;or&lt;/span&gt; &lt;span class="n"&gt;isinstance&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tuple&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;element&lt;/span&gt; &lt;span class="n"&gt;in&lt;/span&gt; &lt;span class="n"&gt;flatten&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
                    &lt;span class="n"&gt;yield&lt;/span&gt; &lt;span class="n"&gt;element&lt;/span&gt;
            &lt;span class="nl"&gt;else:&lt;/span&gt;
                &lt;span class="n"&gt;yield&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;

    &lt;span class="n"&gt;print&lt;/span&gt; &lt;span class="n"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;flatten&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nested_list&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

    &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="n"&gt;hi&lt;/span&gt;&lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="n"&gt;hello&lt;/span&gt;&lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h4&gt;map 传参数可以设置默认参数，和使用*方法&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;In [1]: sum_5 = lambda x, y=5: x+y&lt;/p&gt;
&lt;p&gt;In [2]: sum_5(4)
Out[2]: 9&lt;/p&gt;
&lt;p&gt;In [3]: sum_5(4, 3)
Out[3]: 7&lt;/p&gt;
&lt;p&gt;In [6]: sum_new = lambda *args: sum(args)&lt;/p&gt;
&lt;p&gt;In [7]: sum_new(1,2,3,4)
Out[7]: 10&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h4&gt;bisect 模块二分查找，作用对象：字符串、列表&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;In [1]: from bisect import bisect, insort&lt;/p&gt;
&lt;p&gt;In [2]: a = [1,2,3,4,5,7,8,9]&lt;/p&gt;
&lt;p&gt;In [3]: insort(a, 6)&lt;/p&gt;
&lt;p&gt;In [4]: a
Out[4]: [1, 2, 3, 4, 5, 6, 7, 8, 9]&lt;/p&gt;
&lt;p&gt;In [5]: bisect(a, 6)
Out[5]: 6&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h4&gt;unidecode 将汉字转为拼音&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;In [8]: from unidecode import unidecode&lt;/p&gt;
&lt;p&gt;In [9]: unidecode(u'你好')
Out[9]: 'Ni Hao '&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h4&gt;iter(func(), value) : make the iterator of func() until func()==value&lt;/h4&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h4&gt;条件判断&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;In [1]: a = 3&lt;/p&gt;
&lt;p&gt;In [2]: if 1&amp;lt; a&amp;lt; 4:
   ...:     print 4
   ...:   &lt;br/&gt;
        4&lt;/p&gt;
&lt;p&gt;In [3]: if not (1 &amp;lt; a &amp;lt; 4):
   ...:     print 4
   ...:     &lt;/p&gt;
&lt;p&gt;In [4]: if not 4&amp;lt;a&amp;lt;5:
   ...:     print 4
   ...:   &lt;br/&gt;
        4&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br&gt;
&lt;br/&gt;&lt;/br&gt;&lt;/p&gt;
&lt;h2&gt;VIM Tips&lt;/h2&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h4&gt;以普通用户身份打开的文件需要以sudo身份保存&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;:w !sudo tee %&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h4&gt;插入模式 自动补全&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;CTRL + N&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h4&gt;打开文件自动回到上次编辑位置&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;au BufReadPost * if line("'\"") &amp;gt; 0|if line("'\"") &amp;lt;= line("$")|exe("norm '\"")|else|exe "norm $"|endif|endif&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h4&gt;代码折叠&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;V模式选择文本，可以使用%快速匹配括号, zf 折叠
zo 打开折叠
zc 关闭折叠&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h3&gt;HML 分别将光标移至屏幕最上、正中、最下&lt;/h3&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h3&gt;IrA 列选择后分别在前面、当下、后面修改或添加&lt;/h3&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h3&gt;将光标所在行移至屏幕正中: z.&lt;/h3&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h3&gt;编辑远程文件&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;vim scp://root@baidu.com:12345//etc/nginx/nginx.conf&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h3&gt;书签使用&lt;/h3&gt;
&lt;h4&gt;命令模式&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;marks 显示所有书签&lt;/p&gt;
&lt;p&gt;marks a 显示A书签的详细信息&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;普通模式&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;ma 在当前位置设置A书签, 大写字母为全局书签，小写字母为局部书签&lt;/p&gt;
&lt;p&gt;`a 回到A书签所在行所在列&lt;/p&gt;
&lt;p&gt;'a 回到A书签所在行&lt;/p&gt;
&lt;p&gt;`. 回到上次编辑位置所在行所在列&lt;/p&gt;
&lt;p&gt;'. 回到上次编辑位置所在行&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br&gt;
&lt;br/&gt;&lt;/br&gt;&lt;/p&gt;
&lt;h2&gt;Shell Tips&lt;/h2&gt;
&lt;h4&gt;查看当前目录文件夹大小&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;du -h --max-depth=1 ./&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h4&gt;修改系统默认编辑器&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;sudo update-alternatives --config editor&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h4&gt;redis 开启远端访问&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;remove the "bind 127.0.0.1" 
set password after "requirepass" 
in redis.conf &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h4&gt;mongo 修改字段名&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;db.collection.update({}, {$rename: {old_name: new_name}})&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h4&gt;unalias 删除alias后的命令， 'ls' 和 \ls 能强制调用原始ls命令&lt;/h4&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h4&gt;禁用ubuntu内部错误报告&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;sudo service apport stop&lt;/p&gt;
&lt;p&gt;vim /etc/default/apport enabled=0&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h4&gt;设置服务器不回应PING&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;echo 1 &amp;gt; /proc/sys/net/ipv4/icmp_echo_ignore_all&lt;/p&gt;
&lt;p&gt;回应则设为0&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;用户管理&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;useradd -d /home/nightwish -g root nightwish
添加用户 nightwish, home目录为 /home/nightwish 用户组为 root&lt;/p&gt;
&lt;p&gt;userdel -r nigthwish 
连同HOME目录一同删除&lt;/p&gt;
&lt;p&gt;usermod -g hello nightwish
修改用户&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br&gt;
&lt;br/&gt;&lt;/br&gt;&lt;/p&gt;
&lt;h2&gt;前端 Tips&lt;/h2&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h4&gt;移动端设置 viewport 使网页自适应&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;&lt;meta content="width=device-width, initial-scale=1" name="viewport"/&gt;&lt;code&gt;
&lt;a href="http://www.ruanyifeng.com/blog/2012/05/responsive_web_design.html"&gt;网页自适应--软一峰&lt;/a&gt;&lt;/code&gt;&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;</summary></entry></feed>